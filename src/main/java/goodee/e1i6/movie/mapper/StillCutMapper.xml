<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="goodee.e1i6.movie.mapper.StillCutMapper">
	
	<!-- 영화 이미지 삭제 -->
	<delete id="deleteStillCut" parameterType="int">
		DELETE FROM still_cut
		WHERE still_cut_key = #{stillCutKey}
	</delete>
	
	<!-- 영화 이미지 수정 -->
	<update id="updateStillCut" parameterType="goodee.e1i6.movie.vo.StillCut">
		UPDATE still_cut
		SET poster = #{poster}
		, origin_name = #{originName}
		, file_name = #{fileName}
		, file_type = #{fileType}
		, file_size = #{fileSize}
		WHERE movie_key = #{stillCutKey}
	</update>
	
	<!-- 영화 이미지 등록 -->	
	<insert id="insertStillCutByCrawling" parameterType="java.util.Map">
		INSERT INTO still_cut (
			movie_key
			, poster
			, origin_name
			, file_name
			, file_type
			, file_size
		) VALUES (
			#{movieKey}
			, #{poster}
			, #{originName}
			, #{fileName}
			, #{fileType}
			, #{fileSize}
		)
	</insert>
	
	<!-- 영화에 맞는 영화 이미지 목록 출력 -->
	<select id="selectStillCut" parameterType="int" resultType="int">
		SELECT 
			still_cut_key stillCutKey
		FROM still_cut
		WHERE movie_key = ${movieKey}
	</select>
</mapper>